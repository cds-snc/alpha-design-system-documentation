{"version":3,"file":"gcds-footer.js","sourceRoot":"","sources":["../../../src/components/gcds-footer/gcds-footer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, Element, Watch, Prop, State, h } from '@stencil/core';\nimport { assignLanguage, observerConfig } from '../../utils/utils';\nimport I18N from './i18n/i18n';\n\n@Component({\n  tag: 'gcds-footer',\n  styleUrl: 'gcds-footer.css',\n  shadow: true,\n})\nexport class GcdsFooter {\n  @Element() el: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * Display mode of the footer\n   */\n  @Prop({ reflect: true, mutable: true }) display?: 'compact' | 'full' =\n    'compact';\n\n  /**\n   * GcdsSignature - The variant of the Government of Canada wordmark\n   */\n  @Prop({ reflect: false, mutable: false }) wordmarkVariant: 'colour' | 'white';\n\n  /**\n   * Heading for contextual slot and nav landmark\n   */\n  @Prop({ reflect: false, mutable: false }) contextualHeading: string;\n\n  /**\n   * Object of list items for contextual band. Format: { link-label: link-href }\n   */\n  @Prop({ reflect: false, mutable: true }) contextualLinks: string | object;\n  contextualLinksObject: object;\n\n  /**\n   * Convert contextual links prop to object\n   * (Object props get treated as string when using Stencil components without a framework)\n   */\n  @Watch('contextualLinks')\n  contextualLinksChanged(newContextualLinks: string | object) {\n    if (typeof newContextualLinks == 'string') {\n      this.contextualLinksObject = JSON.parse(newContextualLinks);\n    } else if (typeof newContextualLinks == 'object') {\n      this.contextualLinksObject = newContextualLinks;\n    }\n  }\n\n  /**\n   * Object of list items for sub-footer. Format: { link-label: link-href }\n   */\n  @Prop({ reflect: false, mutable: true }) subLinks: string | object;\n  subLinksObject: object;\n\n  /**\n   * Convert sub links prop to object\n   * (Object props get treated as string when using Stencil components without a framework)\n   */\n  @Watch('subLinks')\n  subLinksChanged(newSubLinks: string | object) {\n    if (typeof newSubLinks == 'string') {\n      this.subLinksObject = JSON.parse(newSubLinks);\n    } else if (typeof newSubLinks == 'object') {\n      this.subLinksObject = newSubLinks;\n    }\n  }\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    if (this.contextualLinks && typeof this.contextualLinks == 'string') {\n      this.contextualLinksObject = JSON.parse(this.contextualLinks);\n    } else if (\n      this.contextualLinks &&\n      typeof this.contextualLinks == 'object'\n    ) {\n      this.contextualLinksObject = this.contextualLinks;\n    }\n\n    if (this.subLinks && typeof this.subLinks == 'string') {\n      this.subLinksObject = JSON.parse(this.subLinks);\n    } else if (this.subLinks && typeof this.subLinks == 'object') {\n      this.subLinksObject = this.subLinks;\n    }\n  }\n\n  private get renderSignature() {\n    const signVariant = this.wordmarkVariant ? this.wordmarkVariant : 'colour';\n\n    if (this.el.querySelector('[slot=\"signature\"]')) {\n      return <slot name=\"wordmark\"></slot>;\n    } else {\n      return (\n        <div class=\"sub__wordmark\">\n          <gcds-signature\n            type=\"wordmark\"\n            variant={signVariant}\n            lang={this.lang}\n          ></gcds-signature>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const {\n      lang,\n      display,\n      contextualHeading,\n      contextualLinksObject,\n      subLinks,\n      subLinksObject,\n      renderSignature,\n    } = this;\n    const govNav = I18N[lang].gov.menu;\n    const themeNav = I18N[lang].themes.menu;\n    const siteNav = I18N[lang].site.menu;\n\n    let contextualLinkCount = 0;\n    let subLinkCount = 0;\n\n    return (\n      <Host role=\"contentinfo\">\n        <h2 class=\"gcds-footer__header\">{I18N[lang].about}</h2>\n        {contextualLinksObject && contextualHeading && (\n          <div class=\"gcds-footer__contextual\">\n            <div class=\"contextual__container\">\n              <nav aria-label={contextualHeading}>\n                <h3 class=\"contextual__header\">{contextualHeading}</h3>\n                <ul class=\"contextual__list\">\n                  {Object.keys(contextualLinksObject).map(key => {\n                    if (contextualLinkCount < 3) {\n                      contextualLinkCount++;\n\n                      return (\n                        <li>\n                          <a href={contextualLinksObject[key]}>{key}</a>\n                        </li>\n                      );\n                    }\n                  })}\n                </ul>\n              </nav>\n            </div>\n          </div>\n        )}\n        {display === 'full' ? (\n          <div class=\"gcds-footer__main\">\n            <div class=\"main__container\">\n              <nav class=\"main__govnav\" aria-label={I18N[lang].gov.heading}>\n                <h3>{I18N[lang].gov.heading}</h3>\n                <ul class=\"govnav__list\">\n                  {Object.keys(govNav).map(value => (\n                    <li>\n                      <a href={govNav[value].link}>{govNav[value].text}</a>\n                    </li>\n                  ))}\n                </ul>\n              </nav>\n              <nav\n                class=\"main__themenav\"\n                aria-label={I18N[lang].themes.heading}\n              >\n                <h4 class=\"themenav__header\">{I18N[lang].themes.heading}</h4>\n                <ul class=\"themenav__list\">\n                  {Object.keys(themeNav).map(value => (\n                    <li>\n                      <a href={themeNav[value].link}>{themeNav[value].text}</a>\n                    </li>\n                  ))}\n                </ul>\n              </nav>\n            </div>\n          </div>\n        ) : null}\n\n        <div class=\"gcds-footer__sub\">\n          <div class=\"sub__container\">\n            <nav aria-label={I18N[lang].site.heading}>\n              <h3 class=\"sub__header\">{I18N[lang].site.heading}</h3>\n              <ul>\n                {subLinks\n                  ? Object.keys(subLinksObject).map(key => {\n                      if (subLinkCount < 5) {\n                        subLinkCount++;\n\n                        return (\n                          <li>\n                            <a href={subLinksObject[key]}>{key}</a>\n                          </li>\n                        );\n                      }\n                    })\n                  : Object.keys(siteNav).map(value => {\n                      return (\n                        <li>\n                          <a href={siteNav[value].link}>\n                            {siteNav[value].text}\n                          </a>\n                        </li>\n                      );\n                    })}\n              </ul>\n            </nav>\n\n            {renderSignature}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}