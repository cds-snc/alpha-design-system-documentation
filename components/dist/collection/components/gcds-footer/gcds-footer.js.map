{"version":3,"file":"gcds-footer.js","sourceRoot":"","sources":["../../../src/components/gcds-footer/gcds-footer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, Element, Watch, Prop, State, h } from '@stencil/core';\nimport { assignLanguage, observerConfig } from '../../utils/utils';\nimport I18N from './i18n/i18n';\n\n@Component({\n  tag: 'gcds-footer',\n  styleUrl: 'gcds-footer.css',\n  shadow: true,\n})\nexport class GcdsFooter {\n  @Element() el: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * Display mode of the footer\n   */\n  @Prop({ reflect: true, mutable: true }) display?: 'compact' | 'full' =\n    'compact';\n\n  /**\n   * GcdsSignature - The variant of the Government of Canada wordmark\n   */\n  @Prop({ reflect: false, mutable: false }) wordmarkVariant: 'colour' | 'white';\n\n  /**\n   * Heading for contextual slot and nav landmark\n   */\n  @Prop({ reflect: false, mutable: false }) contextualHeading: string;\n\n  /**\n   * Object of list items for contextual band. Format: { link-label: link-href }\n   */\n  @Prop({ reflect: false, mutable: true }) contextualLinks: string | object;\n  contextualLinksObject: object;\n\n  /**\n   * Convert contextual links prop to object\n   * (Object props get treated as string when using Stencil components without a framework)\n   */\n  @Watch('contextualLinks')\n  contextualLinksChanged(newContextualLinks: string | object) {\n    if (typeof newContextualLinks == 'string') {\n      this.contextualLinksObject = JSON.parse(newContextualLinks);\n    } else if (typeof newContextualLinks == 'object') {\n      this.contextualLinksObject = newContextualLinks;\n    }\n  }\n\n  /**\n   * Object of list items for sub-footer. Format: { link-label: link-href }\n   */\n  @Prop({ reflect: false, mutable: true }) subLinks: string | object;\n  subLinksObject: object;\n\n  /**\n   * Convert sub links prop to object\n   * (Object props get treated as string when using Stencil components without a framework)\n   */\n  @Watch('subLinks')\n  subLinksChanged(newSubLinks: string | object) {\n    if (typeof newSubLinks == 'string') {\n      this.subLinksObject = JSON.parse(newSubLinks);\n    } else if (typeof newSubLinks == 'object') {\n      this.subLinksObject = newSubLinks;\n    }\n  }\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    if (this.contextualLinks && typeof this.contextualLinks == 'string') {\n      this.contextualLinksObject = JSON.parse(this.contextualLinks);\n    } else if (\n      this.contextualLinks &&\n      typeof this.contextualLinks == 'object'\n    ) {\n      this.contextualLinksObject = this.contextualLinks;\n    }\n\n    if (this.subLinks && typeof this.subLinks == 'string') {\n      this.subLinksObject = JSON.parse(this.subLinks);\n    } else if (this.subLinks && typeof this.subLinks == 'object') {\n      this.subLinksObject = this.subLinks;\n    }\n  }\n\n  private get renderSignature() {\n    const signVariant = this.wordmarkVariant ? this.wordmarkVariant : 'colour';\n\n    if (this.el.querySelector('[slot=\"signature\"]')) {\n      return <slot name=\"wordmark\"></slot>;\n    } else {\n      return (\n        <div class=\"sub__wordmark\">\n          <gcds-signature\n            type=\"wordmark\"\n            variant={signVariant}\n            lang={this.lang}\n          ></gcds-signature>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const {\n      lang,\n      display,\n      contextualHeading,\n      contextualLinksObject,\n      subLinks,\n      subLinksObject,\n      renderSignature,\n    } = this;\n    const govNav = I18N[lang].gov.menu;\n    const themeNav = I18N[lang].themes.menu;\n    const siteNav = I18N[lang].site.menu;\n\n    let contextualLinkCount = 0;\n    let subLinkCount = 0;\n\n    return (\n      <Host role=\"contentinfo\">\n        <h2 class=\"gcds-footer__header\">{I18N[lang].about}</h2>\n        {contextualLinksObject && contextualHeading && (\n          <div class=\"gcds-footer__contextual\">\n            <div class=\"contextual__container\">\n              <nav aria-labelledby=\"contextual__header\">\n                <h3 id=\"contextual__header\" class=\"contextual__header\">\n                  {contextualHeading}\n                </h3>\n                <ul class=\"contextual__list\">\n                  {Object.keys(contextualLinksObject).map(key => {\n                    if (contextualLinkCount < 3) {\n                      contextualLinkCount++;\n\n                      return (\n                        <li>\n                          <a href={contextualLinksObject[key]}>{key}</a>\n                        </li>\n                      );\n                    }\n                  })}\n                </ul>\n              </nav>\n            </div>\n          </div>\n        )}\n        {display === 'full' ? (\n          <div class=\"gcds-footer__main\">\n            <div class=\"main__container\">\n              <nav class=\"main__govnav\" aria-labelledby=\"govnav__header\">\n                <h3 id=\"govnav__header\">{I18N[lang].gov.heading}</h3>\n                <ul class=\"govnav__list\">\n                  {Object.keys(govNav).map(value => (\n                    <li>\n                      <a href={govNav[value].link}>{govNav[value].text}</a>\n                    </li>\n                  ))}\n                </ul>\n              </nav>\n              <nav\n                class=\"main__themenav\"\n                aria-labelledby=\"themenav__header\"\n              >\n                <h4 id=\"themenav__header\" class=\"themenav__header\">{I18N[lang].themes.heading}</h4>\n                <ul class=\"themenav__list\">\n                  {Object.keys(themeNav).map(value => (\n                    <li>\n                      <a href={themeNav[value].link}>{themeNav[value].text}</a>\n                    </li>\n                  ))}\n                </ul>\n              </nav>\n            </div>\n          </div>\n        ) : null}\n\n        <div class=\"gcds-footer__sub\">\n          <div class=\"sub__container\">\n            <nav aria-labelledby=\"sub__header\">\n              <h3 id=\"sub__header\" class=\"sub__header\">{I18N[lang].site.heading}</h3>\n              <ul>\n                {subLinks\n                  ? Object.keys(subLinksObject).map(key => {\n                      if (subLinkCount < 5) {\n                        subLinkCount++;\n\n                        return (\n                          <li>\n                            <a href={subLinksObject[key]}>{key}</a>\n                          </li>\n                        );\n                      }\n                    })\n                  : Object.keys(siteNav).map(value => {\n                      return (\n                        <li>\n                          <a href={siteNav[value].link}>\n                            {siteNav[value].text}\n                          </a>\n                        </li>\n                      );\n                    })}\n              </ul>\n            </nav>\n\n            {renderSignature}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}