{"version":3,"file":"gcds-error-summary.e2e.js","sourceRoot":"","sources":["../../../../src/components/gcds-error-summary/test/gcds-error-summary.e2e.ts"],"names":[],"mappings":"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","sourcesContent":["import { newE2EPage } from '@stencil/core/testing';\nconst { AxePuppeteer } = require('@axe-core/puppeteer');\n\ndescribe('gcds-error-summary', () => {\n  it('renders', async () => {\n    const page = await newE2EPage();\n    await page.setContent('<gcds-error-summary></gcds-error-summary>');\n\n    const element = await page.find('gcds-error-summary');\n    expect(element).toHaveClass('hydrated');\n  });\n  it('renders from listen', async () => {\n    const page = await newE2EPage();\n    await page.setContent(`\n      <form novalidate>\n        <gcds-error-summary></gcds-error-summary>\n\n        <gcds-input\n          input-id=\"fullname\"\n          label=\"Full name\"\n          required\n        ></gcds-input>\n\n        <gcds-textarea\n          textarea-id=\"description\"\n          label=\"Description\"\n          required\n        ></gcds-textarea>\n\n        <gcds-select\n          select-id=\"form-select\"\n          label=\"Select option\"\n          required\n          default-value=\"Please select an option\"\n        >\n          <option>Option 1</option>\n          <option>Option 2</option>\n          <option>Option 3</option>\n        </gcds-select>\n\n        <gcds-file-uploader\n          uploader-id=\"form-uploader\"\n          label=\"Upload file\"\n          required\n        ></gcds-file-uploader>\n\n        <gcds-checkbox\n          checkbox-id=\"form-checkbox\"\n          label=\"I agree to the terms\"\n          required\n        ></gcds-checkbox>\n\n        <gcds-button type=\"submit\">\n          Submit\n        </gcds-button>\n      </form>\n    `);\n\n    await page.waitForChanges();\n\n    await page.click('gcds-button');\n\n    await page.waitForChanges();\n\n    expect(\n      await page.evaluate(() =>\n        document\n          .querySelector('gcds-error-summary')\n          .shadowRoot.querySelector('.gcds-error-summary')\n          .classList.contains('gcds-show'),\n      ),\n    ).toBe(true);\n    expect(\n      await page.evaluate(\n        () =>\n          document\n            .querySelector('gcds-error-summary')\n            .shadowRoot.querySelector('.summary__errorlist').childNodes.length,\n      ),\n    ).toEqual(5);\n  });\n});\n\ndescribe('gcds-input a11y tests', () => {\n  /**\n   * Colour contrast test\n   */\n  it('colour contrast', async () => {\n    const page = await newE2EPage();\n    await page.setContent(`\n        <gcds-error-summary error-links='{\"#link1\":\"This is the first error\",\"#link2\":\"This is the second error\"}'></gcds-error-summary>\n      `);\n\n    const colorContrastTest = new AxePuppeteer(page)\n      .withRules('color-contrast')\n      .analyze();\n    const results = await colorContrastTest;\n\n    expect(results.violations.length).toBe(0);\n  });\n\n  /**\n   * Links have discernible text\n   */\n  it('Link name', async () => {\n    const page = await newE2EPage();\n    await page.setContent(`\n      <form novalidate>\n        <gcds-error-summary listen></gcds-error-summary>\n        <gcds-input input-id=\"fullname\" label=\"Full name\" required></gcds-input>\n        <gcds-input type=\"email\" input-id=\"email\" label=\"Email address\" required></gcds-input>\n        <gcds-button type=\"submit\">\n          Submit\n        </gcds-button>\n      </form>\n    `);\n\n    await page.waitForChanges();\n\n    await page.click('gcds-button');\n\n    await page.waitForChanges();\n\n    const linkTest = new AxePuppeteer(page).withRules('link-name').analyze();\n    const results = await linkTest;\n\n    expect(results.violations.length).toBe(0);\n  });\n});\n"]}