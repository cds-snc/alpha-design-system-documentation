{"version":3,"file":"gcds-topic-menu.js","sourceRoot":"","sources":["../../../src/components/gcds-topic-menu/gcds-topic-menu.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Host,\n  State,\n  Method,\n  Element,\n  Listen,\n  Fragment,\n  Prop,\n  h,\n} from '@stencil/core';\nimport { assignLanguage, observerConfig } from '../../utils/utils';\nimport I18N from './i18n/i18n';\nimport backup from './backup/backup.min';\n\n@Component({\n  tag: 'gcds-topic-menu',\n  styleUrl: 'gcds-topic-menu.css',\n  shadow: true,\n})\nexport class GcdsTopicMenu {\n  @Element() el: HTMLGcdsTopicMenuElement;\n\n  private listItems;\n\n  private themeList?: HTMLElement;\n  private menuButton?: HTMLElement;\n\n  /**\n   * Props\n   */\n\n  /**\n   * Sets the homepage styling\n   */\n  @Prop() home: boolean = false;\n\n  /**\n   * States\n   */\n\n  /**\n   * Open state of menu\n   */\n  @State() open = false;\n\n  /**\n   * Language of rendered component\n   */\n  @State() lang: string;\n\n  /**\n   * Queue of nav items for keyboard navigation\n   */\n  @State() navItems = [];\n\n  /**\n   * Current size based on window size\n   */\n  @State() navSize: 'desktop' | 'mobile';\n\n  /**\n   * Listen for focusout of theme and topic menu to close menu\n   */\n  @Listen('focusout', { target: 'document' })\n  async focusOutListener(e) {\n    if (!this.el.contains(e.relatedTarget) && this.open) {\n      this.toggleNav();\n    }\n  }\n\n  /**\n   * Keyboard controls of theme and topic menu\n   */\n  @Listen('keydown', { target: 'document' })\n  async keyDownListener(e) {\n    if (\n      this.el == document.activeElement &&\n      this.themeList.contains(document.activeElement.shadowRoot.activeElement)\n    ) {\n      const key = e.key;\n      const currentIndex = this.navItems.indexOf(\n        document.activeElement.shadowRoot.activeElement,\n      );\n      const activeElement = this.navItems[currentIndex];\n\n      switch (key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          // If on last item, jump to first item\n          if (currentIndex + 1 > this.navItems.length - 1) {\n            await this.focusMenuLink(this.navItems, activeElement, 0);\n            // Jump to next item\n          } else {\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              currentIndex + 1,\n            );\n          }\n          break;\n\n        case 'ArrowUp':\n          e.preventDefault();\n          // If on first item, jump to last\n          if (currentIndex - 1 < 0) {\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              this.navItems.length - 1,\n            );\n            // Jump to next item\n          } else {\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              currentIndex - 1,\n            );\n          }\n          break;\n\n        case 'ArrowRight':\n          e.preventDefault();\n\n          // Theme links\n          if (\n            activeElement.hasAttribute('aria-haspopup') &&\n            !activeElement.hasAttribute('data-keep-expanded')\n          ) {\n            await this.updateNavItemQueue(activeElement.parentNode.children[1]);\n            activeElement.setAttribute('aria-expanded', 'true');\n            this.navItems[0].focus();\n\n            // Most requested link - desktop\n          } else if (\n            activeElement.hasAttribute('aria-haspopup') &&\n            this.navSize == 'desktop'\n          ) {\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              currentIndex + 1,\n            );\n\n            // Most requested link - mobile\n          } else if (\n            activeElement.hasAttribute('aria-haspopup') &&\n            this.navSize == 'mobile'\n          ) {\n            await this.updateNavItemQueue(activeElement.parentNode.children[1]);\n            activeElement.setAttribute('aria-expanded', 'true');\n            this.navItems[0].focus();\n          }\n          break;\n\n        case 'Enter':\n          if (activeElement.closest('ul').hasAttribute('data-top-menu')) {\n            await this.updateNavItemQueue(activeElement.parentNode.children[1]);\n            this.navItems[0].focus();\n          }\n          break;\n\n        case 'ArrowLeft':\n        case 'Escape': {\n          e.preventDefault();\n          const parentList = activeElement.closest('ul');\n\n          // In most requested menu\n          if (\n            parentList.parentNode\n              .querySelector('a')\n              .hasAttribute('data-keep-expanded')\n          ) {\n            await this.updateNavItemQueue(parentList.parentNode.closest('ul'));\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              this.navItems.indexOf(parentList.parentNode.querySelector('a')),\n            );\n\n            // on mobile, close expandable area\n            if (this.navSize == 'mobile') {\n              parentList.parentNode\n                .querySelector('a')\n                .setAttribute('aria-expanded', 'false');\n            }\n\n            // Exit menu\n          } else if (parentList.parentNode.closest('ul')) {\n            await this.updateNavItemQueue(parentList.parentNode.closest('ul'));\n            await this.focusMenuLink(\n              this.navItems,\n              activeElement,\n              this.navItems.indexOf(parentList.parentNode.querySelector('a')),\n            );\n\n            if (this.navSize == 'mobile') {\n              parentList.parentNode\n                .querySelector('a')\n                .setAttribute('aria-expanded', 'false');\n            }\n\n            // Close theme and topic menu, focus menu button\n          } else {\n            this.menuButton.focus();\n            await this.toggleNav();\n          }\n          break;\n        }\n\n        case 'Tab':\n          await this.toggleNav();\n          break;\n      }\n    }\n  }\n\n  /**\n   * Close all theme menus\n   */\n  @Method()\n  async closeAllMenus() {\n    for (let x = 0; x < this.themeList.children.length; x++) {\n      const themeLink = this.themeList.children[x].querySelector('a');\n      themeLink.setAttribute('aria-expanded', 'false');\n    }\n  }\n\n  /**\n   * Toggle open theme and topic menu\n   */\n  @Method()\n  async toggleNav() {\n    this.open = !this.open;\n\n    if (this.open) {\n      if (this.navSize == 'desktop') {\n        this.themeList.children[0].children[0].setAttribute(\n          'aria-expanded',\n          'true',\n        );\n      } else {\n        // Close most requested on mobile\n        this.el.shadowRoot\n          .querySelectorAll('[data-keep-expanded]')\n          .forEach(el => {\n            el.setAttribute('aria-expanded', 'false');\n          });\n      }\n\n      setTimeout(() => {\n        this.themeList.children[0].querySelector('a').focus();\n      }, 50);\n\n      await this.updateNavItemQueue(this.themeList);\n    } else {\n      this.closeAllMenus();\n    }\n  }\n\n  /*\n   * Pass new window size: desktop or mobile\n   */\n  @Method()\n  async updateNavSize(size) {\n    this.navSize = size;\n  }\n\n  /*\n   * Get current navSize state\n   */\n  @Method()\n  async getNavSize() {\n    return this.navSize;\n  }\n\n  /**\n   * Update keyboard focus queue\n   */\n  @Method()\n  async updateNavItemQueue(parent) {\n    const focusableElements = [];\n\n    for (let x = 0; x < parent.children.length; x++) {\n      const link = parent.children[x].querySelector('a');\n      if (link) {\n        focusableElements.push(link);\n\n        if (\n          link.hasAttribute('data-keep-expanded') &&\n          this.navSize == 'desktop'\n        ) {\n          for (\n            let c = 0;\n            c < link.parentNode.children[1].children.length;\n            c++\n          ) {\n            focusableElements.push(\n              link.parentNode.children[1].children[c].querySelector('a'),\n            );\n          }\n        }\n      }\n    }\n\n    this.navItems = focusableElements;\n  }\n\n  /**\n   * Focus menu link\n   */\n  private focusMenuLink(queue, activeElement, nextStep) {\n    if (\n      activeElement.closest('ul').hasAttribute('data-top-menu') &&\n      activeElement.hasAttribute('aria-haspopup') &&\n      !activeElement.hasAttribute('data-keep-expanded')\n    ) {\n      this.closeAllMenus();\n    } else if (\n      activeElement.hasAttribute('aria-haspopup') &&\n      !activeElement.hasAttribute('data-keep-expanded')\n    ) {\n      activeElement.setAttribute('aria-expanded', 'false');\n    }\n\n    queue[nextStep].focus();\n\n    if (\n      queue[nextStep].hasAttribute('aria-haspopup') &&\n      this.navSize == 'desktop'\n    ) {\n      queue[nextStep].setAttribute('aria-expanded', 'true');\n    }\n  }\n\n  /*\n   * Observe lang attribute change\n   */\n  updateLang() {\n    const observer = new MutationObserver(mutations => {\n      if (mutations[0].oldValue != this.el.lang) {\n        this.lang = this.el.lang;\n      }\n    });\n    observer.observe(this.el, observerConfig);\n  }\n\n  async componentWillLoad() {\n    // Define lang attribute\n    this.lang = assignLanguage(this.el);\n\n    this.updateLang();\n\n    const mediaQuery = window.matchMedia('screen and (max-width: 991px)');\n\n    if (mediaQuery.matches) {\n      this.navSize = 'mobile';\n    } else {\n      this.navSize = 'desktop';\n    }\n\n    try {\n      const response = await fetch(\n        `https://www.canada.ca/content/dam/canada/sitemenu/sitemenu-v2-${this.lang}.html`,\n      );\n      this.listItems = await response.text();\n    } catch (error) {\n      this.listItems = backup[this.lang];\n    }\n  }\n\n  async componentDidLoad() {\n    const hostElement = this.el;\n    let menuEnterTimer;\n\n    // Since we load the HTML, loop through elements and add event listeners to add functionality\n    for (let x = 0; x < this.themeList.children.length; x++) {\n      const themeLink = this.themeList.children[x].querySelector('a');\n\n      // Click\n      themeLink.addEventListener('click', async e => {\n        e.preventDefault();\n\n        // Open topic lists\n        if ((await hostElement.getNavSize()) == 'desktop') {\n          await hostElement.closeAllMenus();\n          themeLink.setAttribute('aria-expanded', 'true');\n        } else {\n          if (themeLink.getAttribute('aria-expanded') == 'false') {\n            themeLink.setAttribute('aria-expanded', 'true');\n            await hostElement.updateNavItemQueue(\n              themeLink.parentNode.children[1],\n            );\n            setTimeout(() => {\n              themeLink.parentNode.children[1].children[0]\n                .querySelector('a')\n                .focus();\n            }, 50);\n          } else {\n            await hostElement.closeAllMenus();\n            await hostElement.updateNavItemQueue(themeLink.closest('ul'));\n            setTimeout(() => {\n              themeLink.focus();\n            }, 50);\n          }\n        }\n      });\n\n      // Hover actions\n      themeLink.addEventListener('mouseenter', async () => {\n        // Change active theme if hovering on menuitem\n        if ((await hostElement.getNavSize()) == 'desktop') {\n          menuEnterTimer = setTimeout(async function () {\n            await hostElement.closeAllMenus();\n            themeLink.setAttribute('aria-expanded', 'true');\n          }, 400);\n        }\n      });\n      // Cancel hover timer if mouseut before completes\n      themeLink.addEventListener('mouseleave', () => {\n        clearTimeout(menuEnterTimer);\n      });\n\n      // Most requested click\n      const mostRequested = this.themeList.children[x]\n        .querySelector('ul')\n        .querySelector('[aria-haspopup]');\n      mostRequested.addEventListener('click', async e => {\n        e.preventDefault();\n        if ((await hostElement.getNavSize()) == 'mobile') {\n          if (mostRequested.getAttribute('aria-expanded') == 'true') {\n            mostRequested.setAttribute('aria-expanded', 'false');\n          } else {\n            mostRequested.setAttribute('aria-expanded', 'true');\n            const mostRequestedList =\n              mostRequested.parentNode.querySelector('ul');\n            mostRequestedList.children[0].querySelector('a').focus();\n            await hostElement.updateNavItemQueue(mostRequestedList);\n          }\n        }\n      });\n    }\n\n    // Mobile responsiveness\n    const mediaQuery = window.matchMedia('screen and (max-width: 991px)');\n    const nav = this.el as HTMLGcdsTopicMenuElement;\n\n    mediaQuery.addEventListener('change', async e => {\n      if (e.matches) {\n        nav.updateNavSize('mobile');\n\n        nav.shadowRoot.querySelectorAll('[data-keep-expanded]').forEach(el => {\n          el.setAttribute('aria-expanded', 'false');\n        });\n      } else {\n        nav.updateNavSize('desktop');\n        nav.shadowRoot.querySelectorAll('[data-keep-expanded]').forEach(el => {\n          el.setAttribute('aria-expanded', 'true');\n        });\n      }\n    });\n  }\n\n  render() {\n    const { home, lang } = this;\n    return (\n      <Host>\n        <nav class=\"gcds-topic-menu\">\n          <h2 class=\"gcds-topic-menu__heading\">Menu</h2>\n          <button\n            aria-haspopup=\"true\"\n            aria-expanded={this.open.toString()}\n            aria-label={I18N[lang].buttonLabel}\n            onClick={async () => await this.toggleNav()}\n            ref={element => (this.menuButton = element as HTMLElement)}\n            class={home && 'gcds-topic-menu--home'}\n          >\n            {this.lang == 'en' ? (\n              <>\n                <span class=\"gcds-topic-menu__main\">Main </span>\n                Menu\n              </>\n            ) : (\n              <>\n                Menu\n                <span class=\"gcds-topic-menu__main\"> principal</span>\n              </>\n            )}\n            <gcds-icon\n              name=\"chevron-down\"\n              margin-left=\"150\"\n              size=\"caption\"\n            ></gcds-icon>\n          </button>\n          <ul\n            role=\"menu\"\n            aria-orientation=\"vertical\"\n            data-top-menu\n            innerHTML={this.listItems}\n            ref={element => (this.themeList = element as HTMLElement)}\n          ></ul>\n        </nav>\n      </Host>\n    );\n  }\n}\n"]}