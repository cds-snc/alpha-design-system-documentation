{"version":3,"file":"gcds-date-input.e2e.js","sourceRoot":"","sources":["../../../../src/components/gcds-date-input/test/gcds-date-input.e2e.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,uBAAuB,CAAC;AACnD,MAAM,EAAE,YAAY,EAAE,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;AACxD,OAAO,EAAE,qBAAqB,EAAE,MAAM,uDAAuD,CAAC;AAE9F,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC/B,EAAE,CAAC,SAAS,EAAE,KAAK,IAAI,EAAE;QACvB,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CACnB,mFAAmF,CACpF,CAAC;QAEF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACnD,MAAM,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,6BAA6B,EAAE,KAAK,IAAI,EAAE;QAC3C,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CACnB;;;;OAIC,CACF,CAAC;QAEF,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAE5B,eAAe;QACf,MAAM,IAAI,CAAC,MAAM,CAAC,4CAA4C,EAAE,IAAI,CAAC,CAAC;QAEtE,SAAS;QACT,MAAM,IAAI,CAAC,IAAI,CACb,qDAAqD,EACrD,IAAI,CACL,CAAC;QAEF,YAAY;QACZ,MAAM,IAAI,CAAC,IAAI,CACb,sDAAsD,EACtD,MAAM,CACP,CAAC;QAEF,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAE5B,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QAEpC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAE5B,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;IACnD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;QAC9C,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CACnB;;;;OAIC,CACF,CAAC;QAEF,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAE5B,eAAe;QACf,MAAM,IAAI,CAAC,MAAM,CAAC,4CAA4C,EAAE,IAAI,CAAC,CAAC;QAEtE,YAAY;QACZ,MAAM,IAAI,CAAC,IAAI,CACb,sDAAsD,EACtD,MAAM,CACP,CAAC;QAEF,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAE5B,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QAEpC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAE5B,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;IAC/C,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;AACvC,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,0BAA0B,EAAE,KAAK,IAAI,EAAE;IACxC,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,IAAI,CAAC,MAAM,CAAC,4CAA4C,EAAE,IAAI,CAAC,CAAC;IACtE,MAAM,IAAI,CAAC,IAAI,CACb,sDAAsD,EACtD,MAAM,CACP,CAAC;IAEF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,2BAA2B,EAAE,KAAK,IAAI,EAAE;IACzC,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,IAAI,CAAC,MAAM,CAAC,4CAA4C,EAAE,IAAI,CAAC,CAAC;IACtE,MAAM,IAAI,CAAC,IAAI,CAAC,qDAAqD,EAAE,IAAI,CAAC,CAAC;IAE7E,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;AAC/C,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,4BAA4B,EAAE,KAAK,IAAI,EAAE;IAC1C,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,IAAI,CAAC,IAAI,CACb,sDAAsD,EACtD,MAAM,CACP,CAAC;IACF,MAAM,IAAI,CAAC,IAAI,CAAC,qDAAqD,EAAE,IAAI,CAAC,CAAC;IAE7E,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,oCAAoC,EAAE,KAAK,IAAI,EAAE;IAClD,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,IAAI,CAAC,IAAI,CACb,sDAAsD,EACtD,MAAM,CACP,CAAC;IAEF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;AACnD,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;IACjD,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,IAAI,CAAC,MAAM,CAAC,4CAA4C,EAAE,IAAI,CAAC,CAAC;IAEtE,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;AAClD,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,qCAAqC,EAAE,KAAK,IAAI,EAAE;IACnD,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,IAAI,CAAC,IAAI,CAAC,qDAAqD,EAAE,IAAI,CAAC,CAAC;IAE7E,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC;AACpD,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,0BAA0B,EAAE,KAAK,IAAI,EAAE;IACxC,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,IAAI,CAAC,MAAM,CAAC,4CAA4C,EAAE,IAAI,CAAC,CAAC;IACtE,MAAM,IAAI,CAAC,IAAI,CAAC,qDAAqD,EAAE,IAAI,CAAC,CAAC;IAC7E,MAAM,IAAI,CAAC,IAAI,CACb,sDAAsD,EACtD,OAAO,CACR,CAAC;IAEF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,0BAA0B,EAAE,KAAK,IAAI,EAAE;IACxC,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;IAChC,MAAM,IAAI,CAAC,UAAU,CACnB,4FAA4F,CAC7F,CAAC;IAEF,MAAM,IAAI,CAAC,MAAM,CAAC,4CAA4C,EAAE,IAAI,CAAC,CAAC;IACtE,MAAM,IAAI,CAAC,IAAI,CAAC,qDAAqD,EAAE,IAAI,CAAC,CAAC;IAC7E,MAAM,IAAI,CAAC,IAAI,CACb,sDAAsD,EACtD,MAAM,CACP,CAAC;IAEF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAErD,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACjC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,MAAM,CACJ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC,YAAY,CACjE,eAAe,CAChB,CACF,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC;AAEH;;;GAGG;AAEH,QAAQ,CAAC,4BAA4B,EAAE,GAAG,EAAE;IAC1C,EAAE,CAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE;QAC/B,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CACnB,mFAAmF,CACpF,CAAC;QAEF,MAAM,iBAAiB,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC;aAC7C,SAAS,CAAC,gBAAgB,CAAC;aAC3B,OAAO,EAAE,CAAC;QACb,MAAM,OAAO,GAAG,MAAM,iBAAiB,CAAC;QAExC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,eAAe,EAAE,KAAK,IAAI,EAAE;QAC7B,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CACnB,mFAAmF,CACpF,CAAC;QAEF,MAAM,SAAS,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC;aACrC,SAAS,CAAC,OAAO,CAAC;aAClB,OAAO,EAAE,CAAC;QACb,MAAM,OAAO,GAAG,MAAM,SAAS,CAAC;QAEhC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gBAAgB,EAAE,KAAK,IAAI,EAAE;QAC9B,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CACnB,mFAAmF,CACpF,CAAC;QAEF,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAEjC,MAAM,CACJ,MAAM,IAAI,CAAC,QAAQ,CACjB,GAAG,EAAE,CACH,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAClE,CACF,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAEzB,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAEjC,MAAM,CACJ,MAAM,IAAI,CAAC,QAAQ,CACjB,GAAG,EAAE,CACH,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAClE,CACF,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAExB,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAEjC,MAAM,CACJ,MAAM,IAAI,CAAC,QAAQ,CACjB,GAAG,EAAE,CACH,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAClE,CACF,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { newE2EPage } from '@stencil/core/testing';\nconst { AxePuppeteer } = require('@axe-core/puppeteer');\nimport { dateInputErrorMessage } from '../../../validators/input-validators/input-validators';\n\ndescribe('gcds-date-input', () => {\n  it('renders', async () => {\n    const page = await newE2EPage();\n    await page.setContent(\n      '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\"></gcds-date-input>',\n    );\n\n    const element = await page.find('gcds-date-input');\n    expect(element).toHaveClass('hydrated');\n  });\n\n  it('submit value in full format', async () => {\n    const page = await newE2EPage();\n    await page.setContent(\n      `<form noValidate>\n        <gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\"></gcds-date-input>\n        <button type=\"submit\">Submit</button>\n      </form>\n      `,\n    );\n\n    await page.waitForChanges();\n\n    // Select March\n    await page.select('gcds-date-input >>> gcds-select >>> select', '03');\n\n    // Type 3\n    await page.type(\n      'gcds-date-input >>> .gcds-date-input__day >>> input',\n      '03',\n    );\n\n    // Type 1991\n    await page.type(\n      'gcds-date-input >>> .gcds-date-input__year >>> input',\n      '1991',\n    );\n\n    await page.waitForChanges();\n\n    (await page.find('button')).click();\n\n    await page.waitForChanges();\n\n    expect(page.url()).toContain('?date=1991-03-03');\n  });\n\n  it('submit value in compact format', async () => {\n    const page = await newE2EPage();\n    await page.setContent(\n      `<form noValidate>\n        <gcds-date-input legend=\"Date input\" name=\"date\" format=\"compact\"></gcds-date-input>\n        <button type=\"submit\">Submit</button>\n      </form>\n      `,\n    );\n\n    await page.waitForChanges();\n\n    // Select March\n    await page.select('gcds-date-input >>> gcds-select >>> select', '03');\n\n    // Type 1991\n    await page.type(\n      'gcds-date-input >>> .gcds-date-input__year >>> input',\n      '1991',\n    );\n\n    await page.waitForChanges();\n\n    (await page.find('button')).click();\n\n    await page.waitForChanges();\n\n    expect(page.url()).toContain('?date=1991-03');\n  });\n});\n\nit('Validation - Missing all fileds', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.all);\n});\n\nit('Validation - Missing day', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  await page.select('gcds-date-input >>> gcds-select >>> select', '03');\n  await page.type(\n    'gcds-date-input >>> .gcds-date-input__year >>> input',\n    '1991',\n  );\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.missingday);\n});\n\nit('Validation - Missing year', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  await page.select('gcds-date-input >>> gcds-select >>> select', '03');\n  await page.type('gcds-date-input >>> .gcds-date-input__day >>> input', '03');\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.missingyear);\n});\n\nit('Validation - Missing month', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  await page.type(\n    'gcds-date-input >>> .gcds-date-input__year >>> input',\n    '1991',\n  );\n  await page.type('gcds-date-input >>> .gcds-date-input__day >>> input', '03');\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.missingmonth);\n});\n\nit('Validation - Missing month and day', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  await page.type(\n    'gcds-date-input >>> .gcds-date-input__year >>> input',\n    '1991',\n  );\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.missingmonthday);\n});\n\nit('Validation - Missing day and year', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  await page.select('gcds-date-input >>> gcds-select >>> select', '03');\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.missingdayyear);\n});\n\nit('Validation - Missing month and year', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  await page.type('gcds-date-input >>> .gcds-date-input__day >>> input', '03');\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.missingmonthyear);\n});\n\nit('Validation - Year length', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  await page.select('gcds-date-input >>> gcds-select >>> select', '03');\n  await page.type('gcds-date-input >>> .gcds-date-input__day >>> input', '03');\n  await page.type(\n    'gcds-date-input >>> .gcds-date-input__year >>> input',\n    '19912',\n  );\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.invalidyearlength);\n});\n\nit('Validation - Invalid day', async () => {\n  const page = await newE2EPage();\n  await page.setContent(\n    '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\" required></gcds-date-input>',\n  );\n\n  await page.select('gcds-date-input >>> gcds-select >>> select', '03');\n  await page.type('gcds-date-input >>> .gcds-date-input__day >>> input', '34');\n  await page.type(\n    'gcds-date-input >>> .gcds-date-input__year >>> input',\n    '1991',\n  );\n\n  const dateInput = await page.find('gcds-date-input');\n\n  dateInput.callMethod('validate');\n  await page.waitForChanges();\n\n  expect(\n    (await page.find('gcds-date-input >>> gcds-fieldset')).getAttribute(\n      'error-message',\n    ),\n  ).toBe(dateInputErrorMessage.en.invalidday);\n});\n\n/**\n * Accessibility tests\n * Axe-core rules: https://github.com/dequelabs/axe-core/blob/develop/doc/rule-descriptions.md#wcag-21-level-a--aa-rules\n */\n\ndescribe('gcds-date-input a11y tests', () => {\n  it('Colour contrast', async () => {\n    const page = await newE2EPage();\n    await page.setContent(\n      '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\"></gcds-date-input>',\n    );\n\n    const colorContrastTest = new AxePuppeteer(page)\n      .withRules('color-contrast')\n      .analyze();\n    const results = await colorContrastTest;\n\n    expect(results.violations.length).toBe(0);\n  });\n\n  it('Proper labels', async () => {\n    const page = await newE2EPage();\n    await page.setContent(\n      '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\"></gcds-date-input>',\n    );\n\n    const labelTest = new AxePuppeteer(page)\n      .withRules('label')\n      .analyze();\n    const results = await labelTest;\n\n    expect(results.violations.length).toBe(0);\n  });\n\n  it('Keyboard focus', async () => {\n    const page = await newE2EPage();\n    await page.setContent(\n      '<gcds-date-input legend=\"Date input\" name=\"date\" format=\"full\"></gcds-date-input>',\n    );\n\n    await page.keyboard.press('Tab');\n    \n    expect(\n      await page.evaluate(\n        () =>\n          window.document.activeElement.shadowRoot.activeElement.nodeName,\n      ),\n    ).toEqual('GCDS-SELECT');\n\n    await page.keyboard.press('Tab');\n    \n    expect(\n      await page.evaluate(\n        () =>\n          window.document.activeElement.shadowRoot.activeElement.nodeName,\n      ),\n    ).toEqual('GCDS-INPUT');\n\n    await page.keyboard.press('Tab');\n    \n    expect(\n      await page.evaluate(\n        () =>\n          window.document.activeElement.shadowRoot.activeElement.nodeName,\n      ),\n    ).toEqual('GCDS-INPUT');\n  });\n});"]}