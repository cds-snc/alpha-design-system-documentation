{% set navPages = collections.all | eleventyNavigation %}

{% macro renderNavListItem(entry) -%}
{% if not entry.hideMain %}
  <li>
    {% if entry.url %}
      <a href="{{ entry.url | url }}">{{ entry.title }}</a>
    {% else %}
      <span>{{ entry.title }}</span>
    {% endif %}
  </li>
{% endif %}
{%- endmacro %}

<gcds-site-menu alignment="right" class="header__nav" slot="menu">
  <a href="{{ nav[locale].url | url }}" class="home-link link-inherit link-no-underline" slot="left">{{ nav[locale].title }}</a>
  <ul >
    {%- for entry in navPages %}
      {%- if entry.locale == locale %}{{ renderNavListItem(entry) }}{% endif -%}
    {%- endfor -%}
  </ul>
</gcds-site-menu>
